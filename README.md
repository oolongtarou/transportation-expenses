# 交通費精算ツール

- [交通費精算ツール](#交通費精算ツール)
  - [概要](#概要)
  - [開発背景](#開発背景)
    - [交通費申請フロー(ビフォー)](#交通費申請フロービフォー)
      - [申請者(申請)](#申請者申請)
      - [承認者(承認)](#承認者承認)
      - [申請者(受領)](#申請者受領)
    - [交通費申請フロー(アフター)](#交通費申請フローアフター)
      - [申請者(申請)](#申請者申請-1)
      - [承認者(承認)](#承認者承認-1)
      - [申請者(受領)](#申請者受領-1)
  - [技術スタック](#技術スタック)
    - [フロントエンド](#フロントエンド)
    - [バックエンド](#バックエンド)
    - [その他](#その他)
  - [機能一覧](#機能一覧)
  - [システム構成](#システム構成)
  - [画面一覧](#画面一覧)
  - [DB 設計](#db-設計)


## 概要

毎月の交通費を精算するためのツールです。  
各ワークスペースごとに申請者と承認者がおり、WEB アプリ上で申請・承認・帳票出力を完結できます。

## 開発背景

以前に所属していた会社で、交通費を精算するときに[交通費申請フロー(ビフォー)](#交通費申請フロービフォー)を採用していました。

このフローには以下のような問題があると考えました。
- 工程が多いので申請に時間がかかる
- Excelに入力やPDFに出力など、手作業が多いのでミスが出やすい
- PDFを提出しそれを確認するというやり方は紙ベースのやり方とほとんど変わらず、電子化のメリットが活かされていない
- 帳票はデータで確認できればよいので、フロー自体に無駄がある
- 個人でExcelを管理する必要がある(無くす人が出てくる)
- Excelの入力では人によって異なる入力方法で提出する可能性がある
- PDFで提出しているので、金額の管理がしづらい(小口現金を管理している人が小口現金管理用Excelに交通費を手動で転記していた)


また、ビフォーのフローで使用している勤怠アプリのワークフロー機能は交通費精算にしか使用しておらず、勤怠アプリ自体もほかのものに乗り換える話が出ていました。

そこで、WEB上で申請が完結できれば、交通費精算フローを[交通費申請フロー(アフター)](#交通費申請フローアフター)のようにできて上記の問題を解消できると思い、本アプリを開発しました。


### 交通費申請フロー(ビフォー)
#### 申請者(申請)
1. Excel を使用し所定のフォーマットで交通費を入力する
2. 入力した内容を PDF 出力する
3. 社内で使用していた勤怠アプリに付属していたワークフロー機能で PDF を添付して交通費申請する

#### 承認者(承認)
4. ワークフロー機能で承認する
5. 承認した内容(添付されたPDF)を印刷する
6. 現金と一緒に印刷されたPDF(帳票)を申請者に渡す

#### 申請者(受領)
7. 現金と帳票を受け取る
8. ワークフロー機能で現金受領登録をする

### 交通費申請フロー(アフター)
#### 申請者(申請)
1. 本アプリを使用して交通費を申請する

#### 承認者(承認)
2. ワークフロー機能で承認する
3. 申請者に現金を渡す

#### 申請者(受領)
4. 現金を受け取る
5. ワークフロー機能で現金受領登録をする

## 技術スタック

### フロントエンド

- React
- Typescript
- Tailwind CSS
- Shadcn(React UI ライブラリ)

### バックエンド

- Node.js(Typescript)
- Express.js(WEB フレームワーク)
- prisma(ORM)

### その他

- PostgreSQL
- Redis
- Heroku
- Git/GitHub
- GitHub Actions

## 機能一覧
- アカウント関連
    - ログイン
    - ログアウト
    - アカウント作成
    - パスワード再設定(未実装)
    - パスワード変更
    - ユーザー名変更
    - メールアドレス変更
    - アイコン変更(未実装)
    - ユーザー情報確認
    - アカウント削除
- ワークスペース関連
    - ワークスペース作成
    - 名前変更
    - アイコン変更(未実装)
    - ワークスペース情報確認
    - ワークスペース削除
    - ユーザー招待
    - ユーザー一覧確認
    - 承認ルート確認
    - 承認ルート設定
- 申請書関連
    - 申請書作成
    - 経路検索
    - 申請書確認
        - 自分の申請書一覧
        - 自分が承認する必要のある申請書一覧
    - 現金受領登録
    - 申請書承認
    - 申請書却下
    - 下書き保存
    - 申請書の帳票出力(PDF)
## システム構成

![alt text](docs/システム構成図.drawio.svg)

## 画面一覧

![alt text](docs/画面一覧.svg)

## DB 設計

![alt text](docs/ER図.drawio.svg)
